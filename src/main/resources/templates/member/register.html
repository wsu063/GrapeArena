<!DOCTYPE html>
<html  xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
       layout:decorate="~{layouts/layout}">

<th:block layout:fragment="css">
    <style>
        .error {
           color: #bd2130;
        }

        /* 15 */
.btn-15 {
  background: #b621fe;
  border: none;
  z-index: 1;
}
.btn-15:after {
  position: absolute;
  content: "";
  width: 0;
  height: 100%;
  top: 0;
  right: 0;
  z-index: -1;
  background-color: #663dff;
  border-radius: 5px;
   box-shadow:inset 2px 2px 2px 0px rgba(255,255,255,.5),
   7px 7px 20px 0px rgba(0,0,0,.1),
   4px 4px 5px 0px rgba(0,0,0,.1);
  transition: all 0.3s ease;
}
.btn-15:hover {
  color: #fff;
}
.btn-15:hover:after {
  left: 0;
  width: 100%;
}
.btn-15:active {
  top: 2px;
}
    </style>
</th:block>
<div layout:fragment="content">
    <div class="container">
        <div class="row">
            <h2>회원가입</h2>
                <div>
                    <form role="form" action="/members/register" method="post" th:object="memberFormDto">
                        <div class="form-group row">
                            <div class="col-md-12">
                                <label th:for="id">아이디</label>
                                <input type="text" class="form-control" placeholder="6~20자 영문, 숫자" th:field="*{id}" />
                                <p th:if="${#fields.hasErrors('id')}" th:errors="*{id}" class="fieldError">Incorrect Data</p>
                            </div>
                        </div>

                        <div class="form-group row">
                            <div class="col-md-12">
                                <label th:for="password">비밀번호</label>
                                <input type="password" class="form-control" placeholder="8~12자 영문, 숫자, 특수문자" th:field="*{password}" />
                                <p th:if="${#fields.hasErrors('password')}" th:errors="*{password}" class="fieldError">Incorrect Data</p>
                            </div>
                        </div>

                        <div class="form-group row">
                            <div class="col-md-12">
                                <label th:for="password_cf">비밀번호 확인</label>
                                <input type="text" class="form-control" placeholder="8~12자 영문, 숫자, 특수문자" th:field="*{password_cf}" />
                                <p th:if="${#fields.hasErrors('password_cf')}" th:errors="*{password_cf}" class="fieldError">Incorrect Data</p>
                            </div>
                        </div>

                        <div class="form-group row">
                            <div class="col-md-12">
                                <label th:for="name">이름</label>
                                <input type="text" class="form-control" placeholder="이름을 입력해주세요" th:field="*{name}" />
                                <p th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="fieldError">Incorrect Data</p>
                            </div>
                        </div>

                        <div class="form-group row">
                            <div class="col-md-12">
                                <label th:for=email>이메일</label>
                                <input type="text" class="form-control" placeholder="이메일 입력" th:field="*{email}" />
                                <span id="middle"><small>@</small></span>
                                <select id="email_address" name="email_address" title="이메일 선택" class="email_address">
                                    <option value="naver.com">naver.com</option>
                                    <option value="gmail.com">gmail.com</option>
                                    <option value="daum.net">daum.net</option>
                                    <option value="hanmail.net">hanmail.net</option>
                                    <option value="nate.com">nate.com</option>
                                    <option value="direct">직접입력</option>
                                </select>
                                <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="fieldError">Incorrect Data</p>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-md-12">
                                <button type="submit" class="custom-btn btn-15">가입완료</button>
                            </div>
                        </div>

                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                    </form>
                </div>
        </div>
    </div>

</div>

<th:block layout:fragment="script">
    <script th:inline="javascript">

        //회원가입을 실패했을떄 에러메세지
           var errorMessage  = [[${errorMessage}]]

           if(errorMessage != null) alert(errorMessage);

    </script>
</th:block>

</html>